# XML Syntax

[Előző](1.md)

![0](images/0.png)

## The Well-formed document

* XML olyan eszköz, amellyel jelölőnyelvek generálhatók általános, nem pedig konkrét jelölőnyelven -> módszer a címke létrehozásához
* Címkék + szöveg = XML dokumentum
* Dokumentum szó félrevezető -> XML egy fájl, de adatfolyamként adatbázis result setként is elküldhető. Alkalmazás is generálhatja dinamikusan és elküldheti egy másiknak. -> XML dokumentum = "data object"
* XML-dokumentumnak "jól-formázottnak" kell lennie, mert az XML processzor nem érti meg -> leáll, "fatal error"

## XML Document Structure

* XML adatok tárolására -> nem feltétlenül megtekintésre
* HTML-hez hasonló elrendezés
  * HTML-ben HEAD és BODY
  * XML-ben prolog és példány vagy törzs (instance or body)
* Logikai és fizikai szerkezet
  * Logikailag:
    * deklarációk
    * elemek
    * megjegyzések
    * karakterhivatkozások
    * feldolgozási utasítások
* XML-dokumentum érthető a benne lévő:
  * **adatok** (bármi a Unicode-on belül, vagy lehet bináris is)
  * és ezeket leíró **jelölések** (címkék, megyjegyzések, feldolgozási utasítások, DTD-k, hivatkozások) alapján
* **XML deklaráció** 
  * feldolgozási utasítás
  * nem kötelező, de célszerű, W3C ajánlja
  * `<?xml version = "1.0"?>`
* **Feldolgozási utasítás:**
  * `<?...?>`
  * kezdeti `<?` után feldolgozási utasítás neve
  * megköveteli **"version"** attribútumot
  * opcionális **"standalone"** és **"encoding"** attribútumok (kell a version!)

## Prolog Section

* Dokumentum bevezetője

```
<?xml version="1.0'?>
<!DOCTYPE book SYSTEM "DTD/book.dtd">
```

1. rész XML-deklaráció
2. rész Dokumentumtípus-meghatározás (Document Type Definition)
   1. beállítja a dokumentum összes szabályát az elemekre, attribútumokra és egyéb összetevőkre
   2. lehet: 
      1. külső: különálló dokumentum, XML-dokumentumból hivatkozva
         1. SYSTEM kulcsszó: mindig, amikor abszolút vagy relatív elérési útra vagy URL-re hivatkozunk
         2. PUBLIC kulcsszó: nyilvános azonosító, W3C vagy más által definiált szabványos DTD, amely adott nyilvános azonosítóhoz van társítva
   
            ```
            <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
            "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
            ```

      2. belső: teljes egészében az XML fájlban

## The standalone attribute

* Van-e külön dokumentumban meghatározott jelölési deklarációkkal
  * **"yes"**: nem lesznek jelölési deklarációk külső DTD-kben
  * **"no"**: probléma nyitva marad -> dokumentum hozzáférhet külső DTD-khez (vagy nem)

## The encoding attribute

* XML elemzők támogatják 8 és 16 bit Unicode kódolás, vagy nagyobb készletet is
* **Elemek**: XML tartalom alapegységei -> kezdő címke + záró címke + minden, ami köztük van
  * címkék közötti szöveg: karakteradatok (character data)
  * címkéken belüli szöveg: jelölés (markup)

## Instance Section

* XML-dokumentum többi része, dokumentum tényleges tartalma (karakterek, bekezdések, oldalak, grafikák)

## Elements

* Elemek -> XML dokumentum legfontosabb részei
* Nyitó és zárócímkébe zárt tartalom -> többféle típusú tartalom
  * Elem tartalom (element content): csak más elemeket tartalmaz
  * Vegyes tartalom (mixed content): szöveget és egyéb elemeket is tartalmaz
  * Egyszerű tartalom (simple content): csak szöveg
  * Üres tartalom (empty content): Nem tartalmaz információt 
    * `<image src="test.jpg"></image>`
    * rövidíthető: `<image src="test.jpg" />`
* kis- és nagybetű érzékeny
* XML-ben mindig kell kezdeti és záró címke
* beágyazott címkék sorrendje nem felcserélhető -> első megnyitott elemnek mindig utolsó zárt elemnek kell lennie
* A jól formázott dokumentum még nem biztosan érvényes -> követnie kell DTD vagy a séma által meghatározott megszorításokat
* Kell egyetlen gyökér elem -> lehetnek alelemei. XML-dokumentum -> elemekből álló fa

![XML element structure](images/xml_element_structure.png)

## Character data

[Következő](3.md)

---
[^1]: