# A UNIX fájlrendszer és alapfogalmai

![3_all](images/3_all.png)

![3](images/3.png)

***Fájlrendszer:***
A háttértáron tárolt fájlok, könyvtárak és egyéb rendszerezésre szolgáló elemek (linkek, named pipe-ok és mások) tárolásának módját, kezelését és elérését értjük.

* UNIX-ban is könyvtárak -> fa struktúra
* Könyvtárak tartalmát, a tartalomjegyzéket a fájrendszer nyilvántartja
* UNIX/Linuxban minden fájl

***Fájl:***
Olyan "kommunikációs végpont", ahova vagy byte-folyamot (byte stream) tudunk írni, vagy byte-folyamot tudunk onnét olvasni (esetleg mindkettőt) 
* -> fájlként kezelhető a billentyűzet, a szöveges képernyő, a nyomtató, a CD író, fizikai memória tartalma, winchester szektorai
* Fájltípusok:
  * Egyszerű fájlok:
    * Bármilyen állomány, ami valamilyen adatot, szöveget tartalmaz
    * pl. program forráskód, futtatható állomány, szöveges dokumentum stb.
  * Jegyzékfájlok (jegyzékek):
    * Lehetővé teszik, hogy minden típusú fájljainkat valamilyen logikai rendszerbe szervezzük
  * Különleges fájlok:
    * Olyan fájlok, amik valamilyen eszközt képviselnek, pl. terminál, hangkártya

## 3.1. A fájlrendszer

![3.1](images/3.1.png)

UNIXban egyetlen fájlrendszer -> fa szerkezetű struktúra
* Gyökere a / jegyzék
* Minden jegyzék további bejegyzéseket tartalmaz
  * Tartalmazza a saját magára mutató . és a szülőjére mutató .. bejegyzést
  * Gyökérben a .. is saját magára mutat
  * Egy jegyzékben minden bejegyzésnek külön név kell
  * Jegyzék neve 0 és / kivételével bármi lehet, hossza változó 14 - 255 karakter (efölött levágja)

***Fogalmak:***
* **Metaadatok:**
  * A fájlrendszer belső adatstruktúrája ->
  * Biztosítja az adatok megfelelelő szervezését és elérését a lemezen
  * "Adatokról szóló adatok"
  * Ha sérül, fájlrendszeren tárolt adatok elérhetetlenek
* **Inode:**
  * Egyes fájlokkal kapcsolatos információt tartalmazzák: 
    * Méret,
    * Láncok száma,
    * Mutatók a lemezblokkokra, amelyek a fájtartalmat ténylegesen tárolják
    * Létrehozás, módosítás és hozzáférés dátumát és idejét
* **Napló:**
  * Az a belső struktúra a lemezen, amelyben a fájlrendszer tárolja a fájlrendszer metaadatainak módosítását.
  * Naplózás (journaling) csökkenti a Linux-rendszer összeomlását követő helyreállás idejét -> nem kell rendszerindításkor egész rendszert átvizsgálni, csak a naplóban rögzített eseményeket újra végrehajtani.

## 3.2. A csereterület

![3.2](images/3.2.png)

## 3.3. Az fstab fájl
